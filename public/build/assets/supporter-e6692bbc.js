import{_ as c,F as v,a as w,b as F,c as V,d as E,V as _,e as k,N as u,f as g,g as y,h as C,i,j as n,w as l,k as B,l as p,r as m,o as d,n as N,m as S,p as L,q as P}from"./vue-axios.esm.min-94a82fc0.js";const z={components:{FormGroup:v,FormLabel:w,FormInput:F,FormTextarea:V,FormCheckbox:E,ValidationErrors:_,Feedback:k},data(){return{form:{organisation:null,website:null,image:null},errors:{organisation:null,website:null,image:null},validationErrors:[],routes:{store:"/api/form/supporter"},isSent:!1,isLoading:!1}},methods:{submit(){const r=new FormData;r.append("image",this.form.image),r.append("organisation",this.form.organisation?this.form.organisation:""),r.append("website",this.form.website?this.form.website:""),this.isSent=!1,this.isLoading=!0,this.validationErrors=[],u.start(),this.axios.post(this.routes.store,r).then(e=>{u.done(),this.reset(),this.isSent=!0,this.isLoading=!1}).catch(e=>{u.done(),this.handleValidationErrors(e.response.data)})},toggle(r){this.form[r]=this.form[r]==0?1:0},validateField(r){this.form[r]===null||this.form[r]===""?this.errors[r]=!0:this.errors[r]=!1},handleValidationErrors(r){for(let e in r.errors)this.validationErrors.push(r.errors[e][0]),this.errors[e]=!0;window.scrollTo(0,0)},removeError(r){this.errors[r]=null},reset(){this.form={organisation:null,website:null,image:null},this.errors={}},fileChange(r){this.form.image=r.target.files[0]}},computed:{isValid(){return!!(this.form.organisation&&this.form.website&&this.form.image)}}},A=i("p",null,[p("Vielen Dank für Ihr Interesse, die Kampagne "),i("strong",null,"«JA zur Pistenverlängerung am Flughafen Zürich»"),p(" zu unterstützen. Bitte füllen Sie das untenstehende Formular aus.")],-1),I={class:"mt-20 xl:mt-40",enctype:"multipart/form-data"},T=i("div",{class:"text-xxs md:text-xs xl:text-sm mb-20"},"Logo*",-1),j=i("div",{class:"mt-20"},"Sofern möglich als EPS, erlaubt sind JPG, PNG, EPS, TIFF, max. 8MB",-1);function D(r,e,J,M,t,s){const x=m("feedback"),b=m("validation-errors"),f=m("form-input"),a=m("form-group");return t.isSent?(d(),g(x,{key:0})):(d(),y(B,{key:1},[A,t.validationErrors.length>0?(d(),g(b,{key:0,validationErrors:t.validationErrors},null,8,["validationErrors"])):C("",!0),i("form",I,[n(a,{error:t.errors.organisation},{default:l(()=>[n(f,{type:"text",modelValue:t.form.organisation,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.organisation=o),placeholder:"Name der Organisation*",error:t.errors.organisation,onBlur:e[1]||(e[1]=o=>s.validateField("organisation")),onFocus:e[2]||(e[2]=o=>s.removeError("organisation"))},null,8,["modelValue","error"])]),_:1},8,["error"]),n(a,{error:t.errors.website},{default:l(()=>[n(f,{type:"text",modelValue:t.form.website,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.website=o),placeholder:"Link zur Webseite der Organisation*",error:t.errors.website,onBlur:e[4]||(e[4]=o=>s.validateField("website")),onFocus:e[5]||(e[5]=o=>s.removeError("website"))},null,8,["modelValue","error"])]),_:1},8,["error"]),n(a,{class:"bg-cloud-mist text-xxs md:text-xs xl:text-sm px-10 py-20",error:t.errors.image},{default:l(()=>[T,i("input",{type:"file",onChange:e[6]||(e[6]=(...o)=>s.fileChange&&s.fileChange(...o)),maxlength:"1",ref:"file",accept:"image/png, image/jpeg"},null,544),j]),_:1},8,["error"]),n(a,{class:"mt-40 md:mt-60 xl:mt-80 !mb-0 xl:!mb-30 flex justify-center w-full"},{default:l(()=>[i("button",{class:N([s.isValid&&!t.isLoading?"bg-midnight text-white hover:bg-cloud-mist hover:text-midnight transition-colors":"bg-cloud-mist pointer-events-none select-none","font-bold text-white py-10 px-25 leading-none inline-flex items-center w-auto text-left"]),type:"button",onClick:e[7]||(e[7]=S(o=>s.submit(),["prevent"]))}," Absenden ",2)]),_:1})])],64))}const G=c(z,[["render",D]]),h=L(G);h.use(P,axios);h.mount("#form-supporter");
