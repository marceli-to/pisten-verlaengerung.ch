import{_ as v,F as w,a as x,b as F,c as V,d as E,e as _,V as k,f as y,N as u,g as p,h as C,i as B,j as n,k as i,w as l,l as N,m as g,r as m,o as d,n as S,p as P,q as z,s as A}from"./vue-axios.esm.min-88667e02.js";const I={components:{FormGroup:w,FormLabel:x,FormInput:F,FormUpload:V,FormTextarea:E,FormCheckbox:_,ValidationErrors:k,Feedback:y},data(){return{form:{organisation:null,website:null,image:null},errors:{organisation:null,website:null,image:null},validationErrors:[],routes:{store:"/api/form/supporter"},isSent:!1}},methods:{submit(){const r=new FormData;r.append("image",this.form.image),r.append("organisation",this.form.organisation?this.form.organisation:""),r.append("website",this.form.website?this.form.website:""),this.isSent=!1,this.validationErrors=[],u.start(),this.axios.post(this.routes.store,r).then(e=>{u.done(),this.reset(),this.isSent=!0}).catch(e=>{u.done(),this.handleValidationErrors(e.response.data)})},toggle(r){this.form[r]=this.form[r]==0?1:0},validateField(r){this.form[r]===null||this.form[r]===""?this.errors[r]=!0:this.errors[r]=!1},handleValidationErrors(r){for(let e in r.errors)this.validationErrors.push(r.errors[e][0]),this.errors[e]=!0;window.scrollTo(0,0)},removeError(r){this.errors[r]=null},reset(){this.form={organisation:null,website:null,image:null},this.errors={}},fileChange(r){this.form.image=r.target.files[0]}},computed:{isValid(){return!!(this.form.organisation&&this.form.website&&this.form.image)}}},T=n("p",null,[g("Vielen Dank für Ihr Interesse, die Kampagne "),n("strong",null,"«JA zur Pistenverlängerung am Flughafen Zürich»"),g(" zu unterstützen. Bitte füllen Sie das untenstehende Formular aus.")],-1),j={class:"mt-20 xl:mt-40",enctype:"multipart/form-data"},D=n("div",{class:"text-sm mb-20"},"Logo*",-1),G=n("div",{class:"mt-20"},"Sofern möglich als EPS, erlaubt sind JPG, PNG, EPS, TIFF, max. 8MB",-1);function L(r,e,J,M,o,s){const c=m("feedback"),b=m("validation-errors"),f=m("form-input"),a=m("form-group");return o.isSent?(d(),p(c,{key:0})):(d(),C(N,{key:1},[T,o.validationErrors.length>0?(d(),p(b,{key:0,validationErrors:o.validationErrors},null,8,["validationErrors"])):B("",!0),n("form",j,[i(a,{error:o.errors.organisation},{default:l(()=>[i(f,{type:"text",modelValue:o.form.organisation,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.organisation=t),placeholder:"Name der Organisation*",error:o.errors.organisation,onBlur:e[1]||(e[1]=t=>s.validateField("organisation")),onFocus:e[2]||(e[2]=t=>s.removeError("organisation"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(a,{error:o.errors.website},{default:l(()=>[i(f,{type:"text",modelValue:o.form.website,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.website=t),placeholder:"Link zur Webseite der Organisation*",error:o.errors.website,onBlur:e[4]||(e[4]=t=>s.validateField("website")),onFocus:e[5]||(e[5]=t=>s.removeError("website"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(a,{class:"bg-cloud-mist text-sm px-10 py-20",error:o.errors.image},{default:l(()=>[D,n("input",{type:"file",onChange:e[6]||(e[6]=(...t)=>s.fileChange&&s.fileChange(...t)),maxlength:"1",ref:"file",accept:"image/png, image/jpeg"},null,544),G]),_:1},8,["error"]),i(a,{class:"mt-80 flex justify-center w-full"},{default:l(()=>[n("button",{class:S([s.isValid?"bg-midnight text-white":"bg-cloud-mist pointer-events-none select-none","font-bold text-white py-10 px-25 leading-none inline-flex items-center w-auto text-left"]),onClick:e[7]||(e[7]=P(t=>s.submit(),["prevent"]))}," Absenden ",2)]),_:1})])],64))}const U=v(I,[["render",L]]),h=z(U);h.use(A,axios);h.mount("#form-supporter");
