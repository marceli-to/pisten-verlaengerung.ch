import{_ as b,F as v,a as w,b as F,c as V,d as E,V as _,e as k,N as u,f as p,g as y,h as C,i as n,j as i,w as l,k as B,l as g,r as m,o as d,n as N,m as S,p as P,q as z}from"./vue-axios.esm.min-94a82fc0.js";const A={components:{FormGroup:v,FormLabel:w,FormInput:F,FormTextarea:V,FormCheckbox:E,ValidationErrors:_,Feedback:k},data(){return{form:{organisation:null,website:null,image:null},errors:{organisation:null,website:null,image:null},validationErrors:[],routes:{store:"/api/form/supporter"},isSent:!1}},methods:{submit(){const r=new FormData;r.append("image",this.form.image),r.append("organisation",this.form.organisation?this.form.organisation:""),r.append("website",this.form.website?this.form.website:""),this.isSent=!1,this.validationErrors=[],u.start(),this.axios.post(this.routes.store,r).then(e=>{u.done(),this.reset(),this.isSent=!0}).catch(e=>{u.done(),this.handleValidationErrors(e.response.data)})},toggle(r){this.form[r]=this.form[r]==0?1:0},validateField(r){this.form[r]===null||this.form[r]===""?this.errors[r]=!0:this.errors[r]=!1},handleValidationErrors(r){for(let e in r.errors)this.validationErrors.push(r.errors[e][0]),this.errors[e]=!0;window.scrollTo(0,0)},removeError(r){this.errors[r]=null},reset(){this.form={organisation:null,website:null,image:null},this.errors={}},fileChange(r){this.form.image=r.target.files[0]}},computed:{isValid(){return!!(this.form.organisation&&this.form.website&&this.form.image)}}},I=n("p",null,[g("Vielen Dank für Ihr Interesse, die Kampagne "),n("strong",null,"«JA zur Pistenverlängerung am Flughafen Zürich»"),g(" zu unterstützen. Bitte füllen Sie das untenstehende Formular aus.")],-1),T={class:"mt-20 xl:mt-40",enctype:"multipart/form-data"},j=n("div",{class:"text-xxs md:text-xs xl:text-sm mb-20"},"Logo*",-1),D=n("div",{class:"mt-20"},"Sofern möglich als EPS, erlaubt sind JPG, PNG, EPS, TIFF, max. 8MB",-1);function G(r,e,J,M,t,s){const x=m("feedback"),c=m("validation-errors"),f=m("form-input"),a=m("form-group");return t.isSent?(d(),p(x,{key:0})):(d(),y(B,{key:1},[I,t.validationErrors.length>0?(d(),p(c,{key:0,validationErrors:t.validationErrors},null,8,["validationErrors"])):C("",!0),n("form",T,[i(a,{error:t.errors.organisation},{default:l(()=>[i(f,{type:"text",modelValue:t.form.organisation,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.organisation=o),placeholder:"Name der Organisation*",error:t.errors.organisation,onBlur:e[1]||(e[1]=o=>s.validateField("organisation")),onFocus:e[2]||(e[2]=o=>s.removeError("organisation"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(a,{error:t.errors.website},{default:l(()=>[i(f,{type:"text",modelValue:t.form.website,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.website=o),placeholder:"Link zur Webseite der Organisation*",error:t.errors.website,onBlur:e[4]||(e[4]=o=>s.validateField("website")),onFocus:e[5]||(e[5]=o=>s.removeError("website"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(a,{class:"bg-cloud-mist text-xxs md:text-xs xl:text-sm px-10 py-20",error:t.errors.image},{default:l(()=>[j,n("input",{type:"file",onChange:e[6]||(e[6]=(...o)=>s.fileChange&&s.fileChange(...o)),maxlength:"1",ref:"file",accept:"image/png, image/jpeg"},null,544),D]),_:1},8,["error"]),i(a,{class:"mt-80 flex justify-center w-full"},{default:l(()=>[n("button",{class:N([s.isValid?"bg-midnight text-white":"bg-cloud-mist pointer-events-none select-none","font-bold text-white py-10 px-25 leading-none inline-flex items-center w-auto text-left"]),onClick:e[7]||(e[7]=S(o=>s.submit(),["prevent"]))}," Absenden ",2)]),_:1})])],64))}const L=b(A,[["render",G]]),h=P(L);h.use(z,axios);h.mount("#form-supporter");
