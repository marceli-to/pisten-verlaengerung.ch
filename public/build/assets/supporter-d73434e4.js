import{_ as c,F as w,a as E,b as V,c as F,d as k,V as y,e as _,N as f,f as g,g as C,h as B,i as n,j as i,w as a,n as p,k as L,l as h,r as m,o as d,m as N,p as S,q as P}from"./vue-axios.esm.min-94a82fc0.js";const z={components:{FormGroup:w,FormLabel:E,FormInput:V,FormTextarea:F,FormCheckbox:k,ValidationErrors:y,Feedback:_},data(){return{form:{organisation:null,website:null,email:null,image:null},errors:{organisation:null,website:null,email:null,image:null},validationErrors:[],routes:{store:"/api/form/supporter"},isSent:!1,isLoading:!1}},methods:{submit(){const r=new FormData;r.append("image",this.form.image),r.append("organisation",this.form.organisation?this.form.organisation:""),r.append("website",this.form.website?this.form.website:""),r.append("email",this.form.email?this.form.email:""),this.isSent=!1,this.isLoading=!0,this.validationErrors=[],f.start(),this.axios.post(this.routes.store,r).then(e=>{f.done(),this.reset(),this.isSent=!0,this.isLoading=!1}).catch(e=>{f.done(),this.isLoading=!1,this.handleValidationErrors(e.response.data)})},toggle(r){this.form[r]=this.form[r]==0?1:0},validateField(r){this.form[r]===null||this.form[r]===""?this.errors[r]=!0:this.errors[r]=!1},validateEmail(){if(this.validEmail()){this.errors.email=!1;return}this.errors.email=!0},validEmail(){return!(this.form.email===null||this.form.email===""||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.form.email))},handleValidationErrors(r){for(let e in r.errors)this.validationErrors.push(r.errors[e][0]),this.errors[e]=!0;window.scrollTo(0,0)},removeError(r){this.errors[r]=null},reset(){this.form={organisation:null,website:null,email:null,image:null},this.errors={}},fileChange(r){this.form.image=r.target.files[0]}},computed:{isValid(){return!!(this.form.organisation&&this.form.website&&this.validEmail()&&this.form.image)}}},A=n("p",null,[h("Vielen Dank für Ihr Interesse, die Kampagne "),n("strong",null,"«JA zur Pistenverlängerung am Flughafen Zürich»"),h(" zu unterstützen. Bitte füllen Sie das untenstehende Formular aus.")],-1),I={class:"mt-20 xl:mt-40",enctype:"multipart/form-data"},T=n("div",{class:"text-xxs md:text-xs xl:text-sm mb-20"},"Logo*",-1),D=n("div",{class:"mt-20"},"Sofern möglich als EPS, erlaubt sind JPG, PNG, EPS, TIFF, max. 8MB",-1);function G(r,e,O,U,t,s){const v=m("feedback"),b=m("validation-errors"),u=m("form-input"),l=m("form-group");return t.isSent?(d(),g(v,{key:0})):(d(),C(L,{key:1},[A,t.validationErrors.length>0?(d(),g(b,{key:0,validationErrors:t.validationErrors},null,8,["validationErrors"])):B("",!0),n("form",I,[i(l,{error:t.errors.organisation},{default:a(()=>[i(u,{type:"text",modelValue:t.form.organisation,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.organisation=o),placeholder:"Name der Organisation*",error:t.errors.organisation,onBlur:e[1]||(e[1]=o=>s.validateField("organisation")),onFocus:e[2]||(e[2]=o=>s.removeError("organisation"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(l,{error:t.errors.website},{default:a(()=>[i(u,{type:"text",modelValue:t.form.website,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.website=o),placeholder:"Link zur Webseite der Organisation*",error:t.errors.website,onBlur:e[4]||(e[4]=o=>s.validateField("website")),onFocus:e[5]||(e[5]=o=>s.removeError("website"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(l,{error:t.errors.email},{default:a(()=>[i(u,{type:"text",modelValue:t.form.email,"onUpdate:modelValue":e[6]||(e[6]=o=>t.form.email=o),placeholder:"E-Mail der Organisation*",error:t.errors.email,onBlur:e[7]||(e[7]=o=>s.validateEmail()),onFocus:e[8]||(e[8]=o=>s.removeError("email"))},null,8,["modelValue","error"])]),_:1},8,["error"]),i(l,{class:p([t.errors.image?"bg-rosewater":"bg-cloud-mist","text-xxs md:text-xs xl:text-sm px-10 py-20"]),error:t.errors.image},{default:a(()=>[T,n("input",{type:"file",onChange:e[9]||(e[9]=(...o)=>s.fileChange&&s.fileChange(...o)),maxlength:"1",ref:"file",accept:"image/*,application/pdf,image/x-eps"},null,544),D]),_:1},8,["class","error"]),i(l,{class:"mt-40 md:mt-60 xl:mt-80 !mb-0 xl:!mb-30 flex justify-center w-full"},{default:a(()=>[n("button",{class:p([s.isValid&&!t.isLoading?"bg-midnight text-white hover:bg-cloud-mist hover:text-midnight transition-colors":"bg-cloud-mist pointer-events-none select-none","font-bold text-white py-10 px-25 leading-none inline-flex items-center w-auto text-left"]),type:"button",onClick:e[10]||(e[10]=N(o=>s.submit(),["prevent"]))}," Absenden ",2)]),_:1})])],64))}const M=c(z,[["render",G]]),x=S(M);x.use(P,axios);x.mount("#form-supporter");
